{% extends 'base.html' %}
{% block title %} Home {% endblock %}

{% block content %}
<div class="container my-5">
  <div class="card p-3">
    <h2 class="text-center text-primary">Welcome to Todo<span class="text-warning">Task</span></h2>
  </div>
  
  <div class="d-flex justify-content-between my-3">
    <a style="text-decoration: none;" href="{% url 'add_task' %}">Create Task</a>
    <p>Hello, {{ user }}</p>
  </div>
  
  <div style="max-height: 300px; overflow-y: auto;" class="table-responsive">
    <table class="text-center table table-striped table-hover">
      <thead class="table-dark">
        <th>#</th>
        <th>Title</th>
        <th>Description</th>
        <th>Action</th>
        <th>Tools</th>
      </thead>
      {% if tasks %}
      {% for task in tasks %}
      <tr>
        <td>{{ task.id }}</td>
        {% if task.is_completed == True %}
        <td class="text-decoration-line-through">{{ task.title }}</td>
        <td class="text-decoration-line-through">{{ task.description }}</td>
        {% else %}
        <td>{{ task.title }}</td>
        <td>{{ task.description }}</td>
        {% endif %}
        <td>
          {% if task.is_completed == False %}
          <a href="{% url 'marked' task.id %}">Pending</a>
          {% else %}
          Completed
          {% endif %}
        </td>
        <td>
          <a style="text-decoration: none;" class="text-warning" href="{% url 'edit_task' task.id %}">Edit</a>
          <a style="text-decoration: none;" class="text-danger" href="{% url 'delete_task' task.id %}">Delete</a>
        </td>
      </tr>
      {% endfor %}
      {% endif %}
    </table>
  </div>
</div>
{% endblock %}